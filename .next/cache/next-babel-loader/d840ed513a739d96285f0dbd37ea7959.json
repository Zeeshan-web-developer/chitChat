{"ast":null,"code":"import { createStore, applyMiddleware } from \"redux\";\nimport rootReducer from \"../reducers/index\";\nimport thunk from \"redux-thunk\";\nimport { composeWithDevTools } from \"redux-devtools-extension\";\nimport reduxReset from \"redux-reset\";\nimport logger from \"redux-logger\";\nimport { persistStore, persistReducer } from \"redux-persist\";\nimport createWebStorage from \"redux-persist/lib/storage/createWebStorage\";\nimport { parse, stringify, toJSON, fromJSON } from \"flatted\";\n\nconst createNoopStorage = () => {\n  return {\n    getItem(_key) {\n      return Promise.resolve(null);\n    },\n\n    setItem(_key, value) {\n      return Promise.resolve(value);\n    },\n\n    removeItem(_key) {\n      return Promise.resolve();\n    }\n\n  };\n};\n\nexport const transformCircular = createTransform((inboundState, key) => Flatted.stringify(inboundState), (outboundState, key) => Flatted.parse(outboundState));\nconst storage = false ? createWebStorage(\"local\") : createNoopStorage();\nconst perssistConfig = {\n  key: \"root\",\n  storage,\n  transforms: [transformCircular]\n};\nconst persistedReducer = persistReducer(perssistConfig, rootReducer);\nconst store = createStore(persistedReducer, composeWithDevTools(reduxReset(), applyMiddleware(thunk)));\nexport const persistor = persistStore(store);\nexport default store;","map":{"version":3,"sources":["D:/chat/redux/store/store.js"],"names":["createStore","applyMiddleware","rootReducer","thunk","composeWithDevTools","reduxReset","logger","persistStore","persistReducer","createWebStorage","parse","stringify","toJSON","fromJSON","createNoopStorage","getItem","_key","Promise","resolve","setItem","value","removeItem","transformCircular","createTransform","inboundState","key","Flatted","outboundState","storage","perssistConfig","transforms","persistedReducer","store","persistor"],"mappings":"AAAA,SAASA,WAAT,EAAsBC,eAAtB,QAA6C,OAA7C;AACA,OAAOC,WAAP,MAAwB,mBAAxB;AACA,OAAOC,KAAP,MAAkB,aAAlB;AACA,SAASC,mBAAT,QAAoC,0BAApC;AACA,OAAOC,UAAP,MAAuB,aAAvB;AACA,OAAOC,MAAP,MAAmB,cAAnB;AACA,SAASC,YAAT,EAAuBC,cAAvB,QAA6C,eAA7C;AACA,OAAOC,gBAAP,MAA6B,4CAA7B;AACA,SAASC,KAAT,EAAgBC,SAAhB,EAA2BC,MAA3B,EAAmCC,QAAnC,QAAmD,SAAnD;;AACA,MAAMC,iBAAiB,GAAG,MAAM;AAC9B,SAAO;AACLC,IAAAA,OAAO,CAACC,IAAD,EAAO;AACZ,aAAOC,OAAO,CAACC,OAAR,CAAgB,IAAhB,CAAP;AACD,KAHI;;AAILC,IAAAA,OAAO,CAACH,IAAD,EAAOI,KAAP,EAAc;AACnB,aAAOH,OAAO,CAACC,OAAR,CAAgBE,KAAhB,CAAP;AACD,KANI;;AAOLC,IAAAA,UAAU,CAACL,IAAD,EAAO;AACf,aAAOC,OAAO,CAACC,OAAR,EAAP;AACD;;AATI,GAAP;AAWD,CAZD;;AAaA,OAAO,MAAMI,iBAAiB,GAAGC,eAAe,CAC9C,CAACC,YAAD,EAAeC,GAAf,KAAuBC,OAAO,CAACf,SAAR,CAAkBa,YAAlB,CADuB,EAE9C,CAACG,aAAD,EAAgBF,GAAhB,KAAwBC,OAAO,CAAChB,KAAR,CAAciB,aAAd,CAFsB,CAAzC;AAKP,MAAMC,OAAO,GACX,QACInB,gBAAgB,CAAC,OAAD,CADpB,GAEIK,iBAAiB,EAHvB;AAKA,MAAMe,cAAc,GAAG;AACrBJ,EAAAA,GAAG,EAAE,MADgB;AAErBG,EAAAA,OAFqB;AAGrBE,EAAAA,UAAU,EAAE,CAACR,iBAAD;AAHS,CAAvB;AAMA,MAAMS,gBAAgB,GAAGvB,cAAc,CAACqB,cAAD,EAAiB3B,WAAjB,CAAvC;AACA,MAAM8B,KAAK,GAAGhC,WAAW,CACvB+B,gBADuB,EAEvB3B,mBAAmB,CAACC,UAAU,EAAX,EAAeJ,eAAe,CAACE,KAAD,CAA9B,CAFI,CAAzB;AAKA,OAAO,MAAM8B,SAAS,GAAG1B,YAAY,CAACyB,KAAD,CAA9B;AACP,eAAeA,KAAf","sourcesContent":["import { createStore, applyMiddleware } from \"redux\";\r\nimport rootReducer from \"../reducers/index\";\r\nimport thunk from \"redux-thunk\";\r\nimport { composeWithDevTools } from \"redux-devtools-extension\";\r\nimport reduxReset from \"redux-reset\";\r\nimport logger from \"redux-logger\";\r\nimport { persistStore, persistReducer } from \"redux-persist\";\r\nimport createWebStorage from \"redux-persist/lib/storage/createWebStorage\";\r\nimport { parse, stringify, toJSON, fromJSON } from \"flatted\";\r\nconst createNoopStorage = () => {\r\n  return {\r\n    getItem(_key) {\r\n      return Promise.resolve(null);\r\n    },\r\n    setItem(_key, value) {\r\n      return Promise.resolve(value);\r\n    },\r\n    removeItem(_key) {\r\n      return Promise.resolve();\r\n    },\r\n  };\r\n};\r\nexport const transformCircular = createTransform(\r\n  (inboundState, key) => Flatted.stringify(inboundState),\r\n  (outboundState, key) => Flatted.parse(outboundState)\r\n);\r\n\r\nconst storage =\r\n  typeof window !== \"undefined\"\r\n    ? createWebStorage(\"local\")\r\n    : createNoopStorage();\r\n\r\nconst perssistConfig = {\r\n  key: \"root\",\r\n  storage,\r\n  transforms: [transformCircular],\r\n};\r\n\r\nconst persistedReducer = persistReducer(perssistConfig, rootReducer);\r\nconst store = createStore(\r\n  persistedReducer,\r\n  composeWithDevTools(reduxReset(), applyMiddleware(thunk))\r\n);\r\n\r\nexport const persistor = persistStore(store);\r\nexport default store;\r\n"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"import * as XMPP from \"stanza\";\nimport onAuthFailed from \"onAuthFailed\";\nimport onAuthSuccess from \"onAuthSuccess\";\nconst chatClient = {\n  create: create = (username, password) => {\n    const client = XMPP.createClient({\n      jid: username,\n      password,\n      transports: {\n        websocket: \"ws://mongoose.mysmartpbx.org:5280/ws-xmpp\",\n        bosh: \"false\"\n      }\n    });\n    client.on(\"session:started\", () => {\n      client.getRoster();\n      client.sendPresence();\n    }); // client.on(\"auth:failed\", onAuthFailed);\n    // client.on(\"auth:success\", onAuthSuccess);\n    // // client.on(\"*\", console.log);\n    // client.on(\"message\", this.onMessage);\n    // client.on(\"message\", (msg) =>\n    //   console.log(\"Message is as: \" + JSON.stringify(msg))\n    // );\n\n    this.client = client;\n    return client;\n  },\n  connect: connect = () => {\n    this.client.connect();\n  }\n}; // disconnect() {\n//   this.client.disconnect();\n// }\n// const send(message) {\n//   this.client.sendMessage(message);\n// }\n\nexport default chatClient;","map":{"version":3,"sources":["D:/chat/stanza/chatClient.js"],"names":["XMPP","onAuthFailed","onAuthSuccess","chatClient","create","username","password","client","createClient","jid","transports","websocket","bosh","on","getRoster","sendPresence","connect"],"mappings":"AAAA,OAAO,KAAKA,IAAZ,MAAsB,QAAtB;AACA,OAAOC,YAAP,MAAyB,cAAzB;AACA,OAAOC,aAAP,MAA0B,eAA1B;AACA,MAAMC,UAAU,GAAG;AACjBC,EAAAA,MAAM,EAAGA,MAAM,GAAG,CAACC,QAAD,EAAWC,QAAX,KAAwB;AACxC,UAAMC,MAAM,GAAGP,IAAI,CAACQ,YAAL,CAAkB;AAC/BC,MAAAA,GAAG,EAAEJ,QAD0B;AAE/BC,MAAAA,QAF+B;AAG/BI,MAAAA,UAAU,EAAE;AACVC,QAAAA,SAAS,EAAE,2CADD;AAEVC,QAAAA,IAAI,EAAE;AAFI;AAHmB,KAAlB,CAAf;AAQAL,IAAAA,MAAM,CAACM,EAAP,CAAU,iBAAV,EAA6B,MAAM;AACjCN,MAAAA,MAAM,CAACO,SAAP;AACAP,MAAAA,MAAM,CAACQ,YAAP;AACD,KAHD,EATwC,CAaxC;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,SAAKR,MAAL,GAAcA,MAAd;AACA,WAAOA,MAAP;AACD,GAvBgB;AAyBjBS,EAAAA,OAAO,EAAGA,OAAO,GAAG,MAAM;AACxB,SAAKT,MAAL,CAAYS,OAAZ;AACD;AA3BgB,CAAnB,C,CA8BA;AACA;AACA;AAEA;AACA;AACA;;AACA,eAAeb,UAAf","sourcesContent":["import * as XMPP from \"stanza\";\r\nimport onAuthFailed from \"onAuthFailed\";\r\nimport onAuthSuccess from \"onAuthSuccess\";\r\nconst chatClient = {\r\n  create: (create = (username, password) => {\r\n    const client = XMPP.createClient({\r\n      jid: username,\r\n      password,\r\n      transports: {\r\n        websocket: \"ws://mongoose.mysmartpbx.org:5280/ws-xmpp\",\r\n        bosh: \"false\",\r\n      },\r\n    });\r\n    client.on(\"session:started\", () => {\r\n      client.getRoster();\r\n      client.sendPresence();\r\n    });\r\n    // client.on(\"auth:failed\", onAuthFailed);\r\n    // client.on(\"auth:success\", onAuthSuccess);\r\n    // // client.on(\"*\", console.log);\r\n    // client.on(\"message\", this.onMessage);\r\n    // client.on(\"message\", (msg) =>\r\n    //   console.log(\"Message is as: \" + JSON.stringify(msg))\r\n    // );\r\n    this.client = client;\r\n    return client;\r\n  }),\r\n\r\n  connect: (connect = () => {\r\n    this.client.connect();\r\n  }),\r\n};\r\n\r\n// disconnect() {\r\n//   this.client.disconnect();\r\n// }\r\n\r\n// const send(message) {\r\n//   this.client.sendMessage(message);\r\n// }\r\nexport default chatClient;\r\n"]},"metadata":{},"sourceType":"module"}